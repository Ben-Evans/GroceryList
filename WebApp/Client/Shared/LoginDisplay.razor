@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation

<AuthorizeView>
    <Authorized>
        @*
        <MudAppBar Color="Color.Primary" Fixed="false">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" />
            <MudSpacer />
            <MudIconButton Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit" />
        </MudAppBar>

        <!-- TODO: Move into header bar dropdown -->
        <MudCheckBox @bind-Checked="IsOffline" Label="Offline Mode" />*@

        <!-- context.User.Identity?.Name! -->
        @*<button class="nav-link btn btn-link" @onclick="BeginLogOut">Log out</button>*@
        
        @*<MudPaper Elevation="25">
            <MudToolBar>
                <MudIconButton Icon="@Icons.Material.Outlined.Menu" Color="Color.Inherit" Class="mr-5" />
                <MudIconButton Icon="@Icons.Material.Outlined.Add" />
                <MudIconButton Icon="@Icons.Material.Outlined.Edit" />
                <MudIconButton Icon="@Icons.Material.Outlined.Remove" Color="Color.Inherit" />
                <MudIconButton Icon="@Icons.Material.Outlined.Settings" Color="Color.Inherit" />
                <MudSpacer />
                <MudIconButton Icon="@Icons.Material.Outlined.Notifications" />
                <MudIconButton Icon="@Icons.Material.Outlined.PushPin" />
                <MudIconButton Icon="@Icons.Material.Outlined.PeopleAlt" />
                <MudIconButton Icon="@Icons.Material.Outlined.MoreVert" Color="Color.Inherit" />
            </MudToolBar>
        </MudPaper>*@
    </Authorized>
    <NotAuthorized>
        <a href="authentication/login">Log in</a>
    </NotAuthorized>
</AuthorizeView>

@code{
    public void BeginLogOut()
    {
        Navigation.NavigateToLogout("authentication/logout");
    }
}
